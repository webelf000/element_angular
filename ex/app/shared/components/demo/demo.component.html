<div [class]="classes" [class.hover]="hovering"
  (mouseenter)="hovering = true"
  (mouseleave)="hovering = false">
  <div class="source">
    <ng-content></ng-content>
  </div>
  <div class="meta" [@expand]="isExpanded" style="height: auto;">
    <div class="description">
      <ng-container *ngIf="notes">
        <span [innerHTML]="notes"></span>
      </ng-container>
      <ng-container *ngIf="link">
        <button type="button" class="el-button el-tooltip el-button--primary el-button--small"
          (click)="openDemo()">
          <span>在线运行</span>
        </button>
      </ng-container>
    </div>

    <ng-container *ngIf="code">
      <div class="highlight" [innerHTML]="code | highlightAuto">
      </div>
    </ng-container>
  </div>

  <div class="demo-block-control" (click)="isExpanded = !isExpanded">
    <i [class]="'el-icon-caret-' + (isExpanded ? 'top' : 'bottom')"
      [class.hovering]="hovering"></i>
    <span [@state]="hovering" >显示代码</span>
  </div>
</div>
